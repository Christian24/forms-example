<form [formGroup]="pizzaGroup" class="container">
  <div *ngFor="let pizza of getPizzas(); index as i">
    <div [formGroup]="pizza" class="flex mb">
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput id="name" formControlName="name">
      </mat-form-field>
      <div>
        <label for="cut">Cut pizza into slices</label>
        <mat-checkbox id="cut" formControlName="cut"></mat-checkbox>
      </div>
      <button mat-raised-button color="primary" class="mb" (click)="deletePizza(i)">Delete pizza</button>
    </div>
  </div>
  <button mat-raised-button color="primary" class="mb" (click)="addPizza()">Add pizza</button>
  <h3>Delivery Address</h3>
  <div formGroupName="deliveryAddress">
    <div class="row">
      <mat-form-field class="mr">
        <mat-label>Street</mat-label>
        <input matInput  formControlName="street">
      </mat-form-field>
      <mat-form-field>
        <mat-label>House number</mat-label>
        <input matInput  formControlName="houseNumber">
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="mr">
        <mat-label>Postal code</mat-label>
        <input matInput  formControlName="postalCode">
      </mat-form-field>

      <mat-form-field>
        <mat-label>City</mat-label>
        <input matInput  formControlName="city">
      </mat-form-field>
    </div>
  </div>
  <h3>Billing Address</h3>
  <div>
    <label for="billing">Same as delivery address</label>
    <mat-checkbox id="billing" formControlName="sameAddress"></mat-checkbox>
  </div>
  <div formGroupName="billingAddress" *ngIf="!sameAddress">
    <div class="row">
    <mat-form-field class="mr">
      <mat-label>Street</mat-label>
      <input matInput  formControlName="street">
    </mat-form-field>
    <mat-form-field>
      <mat-label>House number</mat-label>
      <input matInput  formControlName="houseNumber">
    </mat-form-field>
    </div>
    <div class="row">
    <mat-form-field class="mr">
      <mat-label>Postal code</mat-label>
      <input matInput  formControlName="postalCode">
    </mat-form-field>

    <mat-form-field>
      <mat-label>City</mat-label>
      <input matInput  formControlName="city">
    </mat-form-field>
    </div>
  </div>
</form>
{{JSON.stringify(pizzaGroup.value)}}
